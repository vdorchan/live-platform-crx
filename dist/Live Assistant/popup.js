!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";const e={};[{key:"topNum",cubeId:"tblive_rpt_ind_trend",toSaveDataProp:"liveMaxOnlineDataStr",param:'{"param":"{"queryId":"0|9616773|undefined","cubeId":"tblive_rpt_ind_trend","queryDetail":false,"startTime":"2020-07-26 20:00:01","endTime":"2020-07-26 23:00:46","timeType":2,"sign":null,"limit":1,"row":"[]","measure":"[{"name":"峰值PM在线人数","isMeasure":true}]","column":"[]","orders":"[]","filter":"[{"name":"开播日期分区字段yyyymmdd","type":"dimension","isMeasure":false,"values":["20200726"],"oper":"="},{"name":"直播间id","type":"dimension","isMeasure":false,"values":["272922348257"],"oper":"="},{"name":"主播id","type":"dimension","isMeasure":false,"values":[2081592196],"oper":"="}]","extra":null}","innerId":""}',toSaveApi:"tbMonitorLiveEffect/saveLiveMaxOnlineData"},{cubeId:"tblive_rpt_abstract_indicator",toSaveDataProp:"accessAndTransformDataStr",param:'{"param":"{"queryId":"1|95654043|undefined","cubeId":"tblive_rpt_abstract_indicator","queryDetail":false,"startTime":"2020-07-26 20:00:01","endTime":"2020-07-26 23:00:46","timeType":2,"sign":null,"limit":1,"row":"[]","measure":"[{"name":"观看次数","isMeasure":true},{"name":"额外奖励流量","isMeasure":true},{"name":"计算平均在线时长","isMeasure":true},{"name":"引导进店次数","isMeasure":true},{"name":"新增粉丝数","isMeasure":true},{"name":"PM观看次数","isMeasure":true},{"name":"PM在线人数","isMeasure":true},{"name":"计算封面图点击率","isMeasure":true},{"name":"直播间浏览次数_粉丝占比","isMeasure":true},{"name":"引导进店次数_粉丝占比","isMeasure":true}]","column":"[]","orders":"[]","filter":"[{"name":"开播日期分区字段yyyymmdd","type":"dimension","isMeasure":false,"values":["20200726"],"oper":"="},{"name":"直播间id","type":"dimension","isMeasure":false,"values":["272922348257"],"oper":"="},{"name":"主播id","type":"dimension","isMeasure":false,"values":[2081592196],"oper":"="}]","extra":null}","innerId":""}',toSaveApi:"tbMonitorLiveEffect/saveAccessAndTransformData"},{cubeId:"dws_mit_cbot_slr_lime_rpt_ov_deal",toSaveDataProp:"liveSummaryOrderDataStr",param:'{"param":"{"queryId":"2|87451842|undefined","cubeId":"dws_mit_cbot_slr_lime_rpt_ov_deal","queryDetail":false,"startTime":"2020-07-26 20:00:01","endTime":"2020-07-26 23:00:46","timeType":2,"sign":null,"limit":1,"row":"[]","measure":"[{"name":"引导成交笔数","isMeasure":true},{"name":"引导成交笔数_粉丝占比","isMeasure":true},{"name":"引导成交金额","isMeasure":true},{"name":"引导成交金额_粉丝占比","isMeasure":true}]","column":"[]","orders":"[]","filter":"[{"name":"开播日期分区字段yyyymmdd","type":"dimension","isMeasure":false,"values":["20200726"],"oper":"="},{"name":"直播间id","type":"dimension","isMeasure":false,"values":["272922348257"],"oper":"="},{"name":"主播id","type":"dimension","isMeasure":false,"values":[2081592196],"oper":"="}]","extra":null}","innerId":""}',toSaveApi:"tbMonitorLiveEffect/saveLiveSummaryOrderData"},{cubeId:"tblive_rpt_abstract_indicator",toSaveDataProp:"liveAvgOnlineData",param:'{"param":"{"queryId":"3|21472062|undefined","cubeId":"tblive_rpt_abstract_indicator","queryDetail":false,"startTime":"2020-07-26 20:00:01","endTime":"2020-07-26 23:00:46","timeType":2,"sign":null,"limit":1,"row":"[]","measure":"[{"name":"计算平均在线时长","isMeasure":true}]","column":"[]","orders":"[]","filter":"[{"name":"是否粉丝","type":"dimension","isMeasure":false,"values":["Y"],"oper":"="},{"name":"开播日期分区字段yyyymmdd","type":"dimension","isMeasure":false,"values":["20200726"],"oper":"="},{"name":"直播间id","type":"dimension","isMeasure":false,"values":["272922348257"],"oper":"="},{"name":"主播id","type":"dimension","isMeasure":false,"values":[2081592196],"oper":"="}]","extra":null}","innerId":""}',toSaveApi:"tbMonitorLiveEffect/saveLiveAvgOnlineData"},{cubeId:"tblive_rpt_ind_trend",toSaveDataProp:"liveRealtimeTendDataStr",param:'{"param":"{"queryId":"4|65884581|undefined","cubeId":"tblive_rpt_ind_trend","queryDetail":false,"startTime":"2020-07-26 20:00:01","endTime":"2020-07-26 23:00:46","timeType":2,"sign":null,"limit":2000,"row":"[{"name":"时间精确到分钟","isMeasure":false}]","measure":"[{"name":"PM观看次数","isMeasure":true}]","column":"[]","orders":"[]","filter":"[{"name":"开播日期分区字段yyyymmdd","type":"dimension","isMeasure":false,"values":["20200726"],"oper":"="},{"name":"直播间id","type":"dimension","isMeasure":false,"values":["272922348257"],"oper":"="},{"name":"主播id","type":"dimension","isMeasure":false,"values":[2081592196],"oper":"="}]","extra":null}","innerId":""}',toSaveApi:"tbMonitorRealtimeTend/saveRealtimeTendData"},{cubeId:"tblive_rpt_ind_trend",toSaveDataProp:"liveRealtimeTendDataStr",param:'{"param":"{"queryId":"5|30278359|undefined","cubeId":"tblive_rpt_ind_trend","queryDetail":false,"startTime":"2020-07-26 20:00:01","endTime":"2020-07-26 23:00:46","timeType":2,"sign":null,"limit":2000,"row":"[{"name":"时间精确到分钟","isMeasure":false}]","measure":"[{"name":"观看次数","isMeasure":true}]","column":"[]","orders":"[]","filter":"[{"name":"开播日期分区字段yyyymmdd","type":"dimension","isMeasure":false,"values":["20200726"],"oper":"="},{"name":"直播间id","type":"dimension","isMeasure":false,"values":["272922348257"],"oper":"="},{"name":"主播id","type":"dimension","isMeasure":false,"values":[2081592196],"oper":"="}]","extra":null}","innerId":""}',toSaveApi:"tbMonitorRealtimeTend/saveRealtimeTendData"},{cubeId:"tblive_rpt_ind_trend",toSaveDataProp:"liveRealtimeTendDataStr",param:'{"param":"{"queryId":"6|93131114|undefined","cubeId":"tblive_rpt_ind_trend","queryDetail":false,"startTime":"2020-07-26 20:00:01","endTime":"2020-07-26 23:00:46","timeType":2,"sign":null,"limit":2000,"row":"[{"name":"时间精确到分钟","isMeasure":false}]","measure":"[{"name":"PM在线人数","isMeasure":true}]","column":"[]","orders":"[]","filter":"[{"name":"开播日期分区字段yyyymmdd","type":"dimension","isMeasure":false,"values":["20200726"],"oper":"="},{"name":"直播间id","type":"dimension","isMeasure":false,"values":["272922348257"],"oper":"="},{"name":"主播id","type":"dimension","isMeasure":false,"values":[2081592196],"oper":"="}]","extra":null}","innerId":""}',toSaveApi:"tbMonitorRealtimeTend/saveRealtimeTendData"},{cubeId:"mit_cbot_slr_lime_rpt_ov_trend_deal",toSaveDataProp:"liveRealtimeTendDataStr",param:'{"param":"{"queryId":"7|5760439|undefined","cubeId":"mit_cbot_slr_lime_rpt_ov_trend_deal","queryDetail":false,"startTime":"2020-07-26 20:00:01","endTime":"2020-07-26 23:00:46","timeType":2,"sign":null,"limit":2000,"row":"[{"name":"时间精确到分钟","isMeasure":false}]","measure":"[{"name":"引导成交金额","isMeasure":true}]","column":"[]","orders":"[]","filter":"[{"name":"开播日期分区字段yyyymmdd","type":"dimension","isMeasure":false,"values":["20200726"],"oper":"="},{"name":"直播间id","type":"dimension","isMeasure":false,"values":["272922348257"],"oper":"="},{"name":"主播id","type":"dimension","isMeasure":false,"values":[2081592196],"oper":"="}]","extra":null}","innerId":""}',toSaveApi:"tbMonitorRealtimeTend/saveRealtimeTendData"},{cubeId:"tblive_rpt_ind_trend",toSaveDataProp:"liveRealtimeTendDataStr",param:'{"param":"{"queryId":"8|5024396|undefined","cubeId":"tblive_rpt_ind_trend","queryDetail":false,"startTime":"2020-07-26 20:00:01","endTime":"2020-07-26 23:00:46","timeType":2,"sign":null,"limit":2000,"row":"[{"name":"时间精确到分钟","isMeasure":false}]","measure":"[{"name":"引导进店次数","isMeasure":true}]","column":"[]","orders":"[]","filter":"[{"name":"开播日期分区字段yyyymmdd","type":"dimension","isMeasure":false,"values":["20200726"],"oper":"="},{"name":"直播间id","type":"dimension","isMeasure":false,"values":["272922348257"],"oper":"="},{"name":"主播id","type":"dimension","isMeasure":false,"values":[2081592196],"oper":"="}]","extra":null}","innerId":""}',toSaveApi:"tbMonitorRealtimeTend/saveRealtimeTendData"},{cubeId:"tblive_rpt_ind_trend",toSaveDataProp:"liveRealtimeTendDataStr",param:'{"param":"{"queryId":"9|64096482|undefined","cubeId":"tblive_rpt_ind_trend","queryDetail":false,"startTime":"2020-07-26 20:00:01","endTime":"2020-07-26 23:00:46","timeType":2,"sign":null,"limit":2000,"row":"[{"name":"时间精确到分钟","isMeasure":false}]","measure":"[{"name":"新增粉丝数","isMeasure":true}]","column":"[]","orders":"[]","filter":"[{"name":"开播日期分区字段yyyymmdd","type":"dimension","isMeasure":false,"values":["20200726"],"oper":"="},{"name":"直播间id","type":"dimension","isMeasure":false,"values":["272922348257"],"oper":"="},{"name":"主播id","type":"dimension","isMeasure":false,"values":[2081592196],"oper":"="}]","extra":null}","innerId":""}',toSaveApi:"tbMonitorRealtimeTend/saveRealtimeTendData"},{cubeId:"tblive_rpt_source_trend",toSaveDataProp:"liveSourceChannelDataStr",param:'{"param":"{"queryId":"10|51041760|undefined","cubeId":"tblive_rpt_source_trend","queryDetail":false,"startTime":"2020-07-26 20:00:01","endTime":"2020-07-26 23:00:46","timeType":2,"sign":null,"limit":2000,"row":"[{"name":"时间精确到分钟","isMeasure":false},{"name":"直播间来源","isMeasure":false}]","measure":"[{"name":"观看次数","isMeasure":true}]","column":"[]","orders":"[]","filter":"[{"name":"开播日期分区字段yyyymmdd","type":"dimension","isMeasure":false,"values":["20200726"],"oper":"="},{"name":"直播间id","type":"dimension","isMeasure":false,"values":["272922348257"],"oper":"="},{"name":"主播id","type":"dimension","isMeasure":false,"values":[2081592196],"oper":"="}]","extra":null}","innerId":""}',toSaveApi:"tbMonitorSourceChannel/saveSourceChannelData"},{cubeId:"tblive_rpt_item_indicator",toSaveDataProp:"productViewDataStr",param:'{"param":"{"queryId":"11|33606177|undefined","cubeId":"tblive_rpt_item_indicator","queryDetail":false,"startTime":"2020-07-26 20:00:01","endTime":"2020-07-26 23:00:46","timeType":2,"sign":null,"limit":2000,"row":"[{"name":"商品id","isMeasure":false},{"name":"主图地址","isMeasure":false},{"name":"商品标题","isMeasure":false}]","measure":"[{"name":"商品点击次数","isMeasure":true},{"name":"商品点击人数","isMeasure":true}]","column":"[]","orders":"[]","filter":"[{"name":"开播日期分区字段yyyymmdd","type":"dimension","isMeasure":false,"values":["20200726"],"oper":"="},{"name":"直播间id","type":"dimension","isMeasure":false,"values":["272922348257"],"oper":"="},{"name":"主播id","type":"dimension","isMeasure":false,"values":[2081592196],"oper":"="}]","extra":null}","innerId":""}',toSaveApi:"tbMonitorLiveItem/saveProductViewData"},{cubeId:"dws_mit_cbot_slr_lime_rpt_itm_deal",toSaveDataProp:"productOrderDataStr",param:'{"param":"{"queryId":"12|83415245|undefined","cubeId":"dws_mit_cbot_slr_lime_rpt_itm_deal","queryDetail":false,"startTime":"2020-07-26 20:00:01","endTime":"2020-07-26 23:00:46","timeType":2,"sign":null,"limit":2000,"row":"[{"name":"商品id","isMeasure":false}]","measure":"[{"name":"引导成交件数","isMeasure":true},{"name":"引导成交金额","isMeasure":true}]","column":"[]","orders":"[]","filter":"[{"name":"开播日期分区字段yyyymmdd","type":"dimension","isMeasure":false,"values":["20200726"],"oper":"="},{"name":"直播间id","type":"dimension","isMeasure":false,"values":["272922348257"],"oper":"="},{"name":"主播id","type":"dimension","isMeasure":false,"values":[2081592196],"oper":"="}]","extra":null}","innerId":""}',toSaveApi:"tbMonitorLiveItem/saveProductOrderData"}].forEach(a=>{e[a.param.replace(/[0-9undefined]/g,"")]={cubeId:a.cubeId,toSaveDataProp:a.toSaveDataProp,toSaveApi:a.toSaveApi}});"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var a=function(e,a){return e(a={exports:{}},a.exports),a.exports}((function(e,a){e.exports=function(){var e=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function a(e){var a,i,r=e.replace(/^v/,"").replace(/\+.*$/,""),t=-1===(a=r).indexOf(i="-")?a.length:a.indexOf(i),n=r.substring(0,t).split(".");return n.push(r.substring(t+1)),n}function i(e){return isNaN(Number(e))?e:Number(e)}function r(a){if("string"!=typeof a)throw new TypeError("Invalid argument expected string");if(!e.test(a))throw Error("Invalid argument not valid semver ('"+a+"' received)")}function t(e,t){[e,t].forEach(r);for(var n=a(e),s=a(t),l=0;Math.max(n.length-1,s.length-1)>l;l++){var o=parseInt(n[l]||0,10),u=parseInt(s[l]||0,10);if(o>u)return 1;if(u>o)return-1}var d=n[n.length-1],m=s[s.length-1];if(d&&m){var p=d.split(".").map(i),v=m.split(".").map(i);for(l=0;Math.max(p.length,v.length)>l;l++){if(void 0===p[l]||"string"==typeof v[l]&&"number"==typeof p[l])return-1;if(void 0===v[l]||"string"==typeof p[l]&&"number"==typeof v[l])return 1;if(p[l]>v[l])return 1;if(v[l]>p[l])return-1}}else if(d||m)return d?-1:1;return 0}var n=[">",">=","=","<","<="],s={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return t.validate=function(a){return"string"==typeof a&&e.test(a)},t.compare=function(e,a,i){!function(e){if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===n.indexOf(e))throw new TypeError("Invalid operator, expected one of "+n.join("|"))}(i);var r=t(e,a);return s[i].indexOf(r)>-1},t}()}));async function i(){const e=(await async function(e,a){const i=await fetch(e,{referrerPolicy:"no-referrer-when-downgrade",body:null,method:"GET",mode:"cors",credentials:"include",...a});if(/^https:\/\/login.taobao.com\/member\/login\.jhtml/.test(i.url))throw Error("NOT_LOGIN");if(200===i.status)return i.json();throw Error("response error: "+i.status)}("https://livedev.baowenonline.com/api/plugin/version")).data,i=chrome.app.getDetails().version;return a(e,i)>0&&e}const r=e=>document.querySelector(e),t=r("#J-checkUpdate"),n=r("#J-liveSass");r("#J-version");async function s(){r("#version").innerHTML="version "+chrome.app.getDetails().version;const e=await i();r("#update").parentNode.style.display=e?"inline":"none"}r("#update").onclick=()=>{chrome.tabs.create({url:"https://livedev.baowenonline.com/api/plugin/download"})},s(),t.onclick=()=>s(),n.onclick=()=>{window.open("https://live.baowenonline.com")};const l=()=>chrome.runtime.sendMessage({type:"GET_LIVE_LIST"},e=>{console.log("GET_LIVE_LIST",{response:e});let a="",i="";e.hasLogin?e.isIniting?(a="<p>账号正初始化列表...</p>",setTimeout(()=>{l()},1e3)):e.hasInit?(a=`<p>账号场次数量</p><span>${e.liveList.length}</span>`,i=`<p>可同步场次数量（已开播并在30天内）</p><span>${e.liveListWithData.length}</span>`):a="账号未初始化":a="<p>中控台账号未登录</p>",r("#J-liveListCount").innerHTML=a,r("#J-canSyncLiveListCount").innerHTML=i,r("#J-canSyncLiveListCount").previousElementSibling.style.display=i?"block":"none"});l()}));
